console.log("background is running");chrome.runtime.onMessage.addListener((e,a,n)=>{switch(console.log("ðŸš€ ~ request.action:",e.action),e.action){case"openQR":chrome.windows.create({url:"popup.html",type:"popup",width:340,height:700,top:0,left:1e3});break;case"getAmazonTabId":return chrome.tabs.query({},t=>{const o=t.find(r=>r.url.includes("amazon"));o?(console.log("Amazon ID: ",o==null?void 0:o.id),n({tabId:o.id})):console.log("Amazon ID not found")}),!0;case"applyGiftCard":break;case"placeOrder":case"confirmApply":break;default:console.warn("Unknown action:",e.action);break}return!0});chrome.runtime.onMessageExternal.addListener(function(e,a,n){switch(e.action){case"login":chrome.storage.local.set({address:e.address},function(){}),n({status:"Address Received"});break;case"logout":chrome.storage.local.set({address:""},function(){}),n({status:"Logout"});break}return!0});
