import{j as r,r as a,c as s}from"./chunk-4db15592.js";function l(){const e=async()=>{chrome.runtime.sendMessage({action:"openQR"})};return r.jsx("button",{style:{borderRadius:"8px",width:"100%",marginTop:"16px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"19px",fontSize:"14px",fontWeight:"500",background:"#67B6FF",color:"#140E24"},onClick:e,children:"Checkout with SUI"})}function u(){a.useEffect(()=>{let t=document.createElement("div");switch(document.location.hostname){case"www.amazon.com":{e(t);break}}return()=>{t&&t.remove()}},[]);const e=t=>{const o=setInterval(()=>{var i;const n=document.getElementById("submitOrderButtonId");n&&(clearInterval(o),(i=n==null?void 0:n.parentNode)==null||i.insertBefore(t,n.nextSibling),s(t).render(r.jsx(l,{})))},1e3)};return null}const c=document.createElement("div");c.id="content";document.body.append(c);s(c).render(r.jsx(u,{}));console.info("contentScript is running");const d=(e,t)=>{var o=document.getElementById("spc-gcpromoinput");o?o.value=e.giftCode:console.log("No input field found");var n=document.querySelector('input.a-button-input[type="submit"][aria-labelledby="gcApplyButtonId-announce"]');n?n.click():console.log("No input tag found"),t({result:"applySuccess"})};chrome.runtime.onMessage.addListener((e,t,o)=>{switch(console.log("Message received in content script:",e),e.action){case"applyGiftCard":console.log("Apply Gift Card from Content Script"),d(e,o);break}return!0});
